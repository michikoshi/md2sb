"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const remark_1 = __importDefault(require("remark"));
const remark_gfm_1 = __importDefault(require("remark-gfm"));
const compiler_1 = require("./libs/compiler");
exports.default = (input) => {
    let mdText = input;
    if (typeof input === "object") {
        if (input instanceof Buffer) {
            mdText = input.toString();
        }
        else if (typeof input !== "string") {
            throw new Error("It allows string or buffer");
        }
    }
    return new Promise((resolve, ng) => {
        (0, remark_1.default)()
            .use(remark_gfm_1.default)
            .use(compiler_1.compiler)
            .process(mdText, (err, file) => {
            if (err)
                return ng(err);
            const result = (file + "");
            return resolve(result);
        });
    });
};
//# sourceMappingURL=main.js.map